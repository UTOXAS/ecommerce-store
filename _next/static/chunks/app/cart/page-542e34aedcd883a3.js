(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5],{7608:(t,e,c)=>{Promise.resolve().then(c.bind(c,3836))},3836:(t,e,c)=>{"use strict";c.r(e),c.d(e,{default:()=>l});var s=c(5155),r=c(2115),a=c(1892),n=c(5162);function l(){let[t,e]=(0,r.useState)([]);(0,r.useEffect)(()=>{(0,n.J)("/data/products.json").then(t=>t.json()).then(t=>{e((0,a.Xl)().map(e=>{let c=t.find(t=>t.id===e.productId);return c?{...e,product:c}:null}).filter(Boolean))}).catch(t=>console.error("Error fetching products:",t)),c.e(28).then(c.t.bind(c,28,23))},[]);let l=t=>{(0,a.dt)(t),e(e=>e.filter(e=>e.productId!==t))};return(0,s.jsxs)("div",{className:"py-4",children:[(0,s.jsx)("h1",{className:"text-center mb-5 fw-light",children:"Your Cart"}),0===t.length?(0,s.jsx)("p",{className:"text-center text-muted",children:"Your cart is empty"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"row g-4",children:t.map(t=>{let e="/ecommerce-store",c=t.product.image.startsWith("/")?"".concat(e).concat(t.product.image):"".concat(e,"/").concat(t.product.image);return(0,s.jsx)("div",{className:"col-12",children:(0,s.jsx)("div",{className:"card border-0 shadow-sm",children:(0,s.jsxs)("div",{className:"card-body d-flex align-items-center",children:[(0,s.jsx)("img",{src:c,alt:t.product.name,className:"me-3",style:{width:"80px"}}),(0,s.jsxs)("div",{className:"flex-grow-1",children:[(0,s.jsx)("h5",{className:"mb-1 fw-normal",children:t.product.name}),(0,s.jsxs)("p",{className:"mb-1 small text-muted",children:["Quantity: ",t.quantity]}),(0,s.jsxs)("p",{className:"mb-0 fw-bold",children:["$",(t.product.price*t.quantity).toFixed(2)]})]}),(0,s.jsx)("button",{onClick:()=>l(t.productId),className:"btn btn-outline-danger btn-sm",children:"Remove"})]})})},t.productId)})}),(0,s.jsxs)("div",{className:"bt-4 text-end",children:[(0,s.jsxs)("h4",{className:"fw-light",children:["Total: ",(0,s.jsxs)("span",{className:"fw-bold",children:["$",t.reduce((t,e)=>{var c;return t+((null===(c=e.product)||void 0===c?void 0:c.price)||0)*e.quantity},0).toFixed(2)]})]}),(0,s.jsx)("button",{className:"btn btn-dark mt-2",children:"Checkout"})]})]})]})}},1892:(t,e,c)=>{"use strict";c.d(e,{Xl:()=>s,bE:()=>r,cr:()=>n,dt:()=>a});let s=()=>{let t=localStorage.getItem("cart");return t?JSON.parse(t):[]},r=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,c=s(),r=c.findIndex(e=>e.productId===t);r>-1?c[r].quantity+=e:c.push({productId:t,quantity:e}),localStorage.setItem("cart",JSON.stringify(c)),window.dispatchEvent(new Event("storage"))},a=t=>{let e=s().filter(e=>e.productId!==t);localStorage.setItem("cart",JSON.stringify(e)),window.dispatchEvent(new Event("storage"))},n=()=>s().reduce((t,e)=>t+e.quantity,0)},5162:(t,e,c)=>{"use strict";c.d(e,{J:()=>s});let s=async function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c="".concat("/ecommerce-store").concat(t);console.log("fullUrl: ".concat(c));let s=await fetch(c,e);if(!s.ok)throw Error("Failed to fetch ".concat(c,": ").concat(s.statusText));return s}}},t=>{var e=e=>t(t.s=e);t.O(0,[441,517,358],()=>e(7608)),_N_E=t.O()}]);